<%# https://stackoverflow.com/questions/6773550/get-id-of-div-from-its-class-name %>
var q = document.getElementsByClassName("Q");

$(".add_Q").bind('ajax:success', function(evt, data, status, xhr) {

  object_index = $('.add_Q').index(this);

  for (i = 0; i < q.length; i++) {


      <%# Quantity to change; it's id %>
      id = "X" + i.toString();
      <%# Quantity to convert to int then back to str %>
      qid = document.getElementById(id).innerHTML.replace(/\s/g, '');
      updated_quantity = 0
      updated_quantity = + qid
      updated_quantity += 1

      <%# Now we have the new updated value  %>
      updated_quantity_str = updated_quantity.toString();
      buttonclick = "add_Q" + i.toString();

      if (document.getElementsByClassName("add_Q")[object_index].id == buttonclick)
      {
          break;
      }
  }

   document.getElementById(buttonclick).addEventListener("click", function()
    {

        console.log(updated_quantity_str);
        document.getElementById(id).innerHTML = updated_quantity_str;
        console.log("in bind success ");

    })



  })

